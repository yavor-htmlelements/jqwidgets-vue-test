/*
jQWidgets v12.1.0 (2021-June)
Copyright (c) 2011-2021 jQWidgets.
License: https://jqwidgets.com/license/
*/
/* eslint-disable */

/* tslint:disable */
/* eslint-disable */
function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _get(t,e,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=_superPropBase(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,r=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(i,t)})(t)}function _construct(t,e,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return i&&_setPrototypeOf(o,i.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}window.JQX||(window.JQX={Utilities:{Core:{isMobile:function(){var t=/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase());return t||(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)}}}});var LayoutItem=function(t){"use strict";_inherits(i,_wrapNativeSuper(HTMLElement));var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.call(this))._properties={min:50,label:"Item",modifiers:["resize","drag","close"],size:null},t}return _createClass(i,[{key:"_setProperty",value:function(t,e){if(this._properties[t]!==e&&(this._properties[t]=e,this._updating=!0,"disabled"===t||"modifiers"===t?e?this.setAttribute(t,e):this.removeAttribute(t):null===e?this.removeAttribute(t):this.setAttribute(t,e),this.isCompleted)){var i=this.closest("jqx-layout");i&&(i._resizeDetails||i._updating||!i.isRendered||i.refresh()),this._updating=!1}}},{key:"label",get:function(){return this._properties.label},set:function(t){this._setProperty("label",t)}},{key:"modifiers",get:function(){return this._properties.modifiers},set:function(t){this._setProperty("modifiers",t)}},{key:"min",get:function(){return this._properties.min},set:function(t){this._setProperty("min",t)}},{key:"size",get:function(){return this._properties.size},set:function(t){null!==t?"string"==typeof t?this._setProperty("size",t):this._setProperty("size",Math.max(this.min,t)):this._setProperty("size",t)}},{key:"attributeChangedCallback",value:function(t,e,i){if(e!==i&&this.isCompleted)if("size"===t){if(!this._updating){if(null===i)return void(this[t]=null);this[t]=Math.max(this.min,parseInt(i))}}else this[t]=i}},{key:"connectedCallback",value:function(){this.isCompleted||this.render()}},{key:"whenRendered",value:function(t){this.isRendered?t():(this.whenRenderedCallbacks||(this.whenRenderedCallbacks=[]),this.whenRenderedCallbacks.push(t))}},{key:"render",value:function(){this.hasAttribute("data-id")||this.setAttribute("data-id","id"+Math.random().toString(16).slice(2)),this.hasAttribute("label")||this.setAttribute("label",this.label),this.hasAttribute("min")||this.setAttribute("min",this.min),this.hasAttribute("label")||this.setAttribute("label",this.label),this.hasAttribute("modifiers")||this.setAttribute("modifiers",this.modifiers);for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t],i=e.name,r=e.value;isNaN(r)||"min"!==i&&"size"!==i?this._properties[i]=r:this._properties[i]=parseInt(r)}if(this.classList.add("jqx-layout-item"),this.isCompleted=!0,this.whenRenderedCallbacks){for(t=0;t<this.whenRenderedCallbacks.length;t++)this.whenRenderedCallbacks[t]();this.whenRenderedCallbacks=[]}}}],[{key:"observedAttributes",get:function(){return["min","size","label","modifiers"]}}]),i}(),LayoutGroup=function(t){"use strict";_inherits(i,LayoutItem);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.call(this))._properties.label="Group",t._properties.orientation="vertical",t}return _createClass(i,[{key:"orientation",get:function(){return this._properties.orientation},set:function(t){this._setProperty("orientation",t)}},{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.className="jqx-layout-group",this.hasAttribute("orientation")?this._properties.orientation=this.getAttribute("orientation"):this.setAttribute("orientation",this._properties.orientation)}}],[{key:"observedAttributes",get:function(){return["min","size","modifiers","orientation","position"]}}]),i}(),TabLayoutGroup=function(t){"use strict";_inherits(i,LayoutGroup);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.call(this))._properties.position="top",t._properties.label="TabGroup",t}return _createClass(i,[{key:"position",get:function(){return this._properties.position},set:function(t){this._setProperty("position",t)}},{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),!this.hasAttribute("position")&&this.position&&this.setAttribute("position","top")}}],[{key:"observedAttributes",get:function(){return["min","size","modifiers","orientation","position"]}}]),i}(),TabLayoutItem=function(t){"use strict";_inherits(i,LayoutGroup);var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.call(this))._properties.label="TabItem",t}return i}();!function(t){"use strict";t.jqx.jqxWidget("jqxSplitLayout","",{}),t.extend(t.jqx._jqxSplitLayout.prototype,{defineInstance:function(){var e={dataSource:null,ready:null,orientation:"vertical"};return this===t.jqx._jqxSplitLayout.prototype?e:(t.extend(!0,this,e),e)},createInstance:function(){this._properties={dataSource:null,ready:null,orientation:"vertical"};this.layout=document.createElement("jqx-split-layout"),this.layout.style.width="100%",this.layout.style.height="100%",this.element.className+=this.toThemeProperty("jqx-split-layout-component jqx-rc-all jqx-widget"),this.layout.dataSource=this.dataSource,this.layout.orientation=this.orientation,this.layout.ready=this.ready,this.element.appendChild(this.layout)},propertyChangedHandler:function(t,e,i,r){var o=t;if(i!=r||r instanceof Object){if(!o.layout)return;o.layout[e]=r}},render:function(){this.layout&&this.layout.render()},refresh:function(){this.layout&&this.layout.isRendered&&this.layout.refresh()},dataBind:function(){this.layout&&this.layout.dataBind()}})}(jqxBaseFramework);var SplitLayout=function(t){"use strict";_inherits(i,_wrapNativeSuper(HTMLElement));var e=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=e.call(this))._properties={dataSource:null,orientation:"vertical"},t}return _createClass(i,[{key:"orientation",get:function(){return this._properties.orientation},set:function(t){this._properties.orientation=t}},{key:"dataSource",get:function(){return this._properties.dataSource},set:function(t){this._properties.dataSource=t}},{key:"_dragStart",value:function(t){t.stopPropagation(),t.preventDefault()}},{key:"_leaveHandler",value:function(){this._resizeDetails||(this._handleButtonsVisibility(null),this._hideSplitter(),requestAnimationFrame(function(){}))}},{key:"_enterHandler",value:function(){var t=this;t._resizeDetails||(t._handleButtonsVisibility(t._selectedItem),t._updateSplitter(),requestAnimationFrame(function(){t.classList.add("outline")}))}},{key:"template",value:function(){return'<div class="jqx-container" id="container" role="presentation"><jqx-layout-group data-id="root" id="itemsContainer"></jqx-layout-group><div root-splitter id="splitter" class="jqx-layout-splitter"></div>'}},{key:"propertyChangedHandler",value:function(t,e,r){switch(t){case"orientation":this.$.itemsContainer&&(this.$.itemsContainer.orientation=this.orientation);break;case"dataSource":this.dataBind();break;case"selectedIndex":this._handleItemClick(this.getItem(r+""),!0);break;default:_get(_getPrototypeOf(i.prototype),"propertyChangedHandler",this).call(this,t,e,r)}}},{key:"dataBind",value:function(){this.$.itemsContainer.innerHTML="";var t="";!function e(i,r){for(var o=0;o<i.length;o++){var n=i[o],a=n.size,s=n.min,l=n.modifiers,u=n.type,d=n.position,c=n.orientation?n.orientation:"vertical",p=n.id,f=n.label,h="";if(void 0!==p&&(h+='id="'.concat(p,'" ')),void 0!==a&&(h+='size="'.concat(a,'" ')),void 0!==f&&(h+='label="'.concat(f,'" ')),void 0!==s&&(h+='min="'.concat(s,'" ')),void 0!==l&&(h+='modifiers="'.concat(l,'" ')),void 0!==d&&(h+='position="'.concat(d,'" ')),n.items)h+="orientation=".concat(c," "),"tabs"===u?(t+="<jqx-tab-layout-group ".concat(h,">"),e(n.items,!0),t+="</jqx-tab-layout-group>"):(t+="<jqx-layout-group ".concat(h,">"),e(n.items),t+="</jqx-layout-group>");else{var m=n.content||"";r?t+="<jqx-tab-layout-item ".concat(h,">")+m+"</jqx-tab-layout-item>":"tabs"===u?(t+="<jqx-tab-layout-group>",t+="<jqx-tab-layout-item ".concat(h,">")+m+"</jqx-tab-layout-item>",t+="</jqx-tab-layout-group>"):t+="<jqx-layout-item ".concat(h,">")+m+"</jqx-layout-item>"}}}(this.dataSource),this.$.itemsContainer.innerHTML=t,this.refresh()}},{key:"render",value:function(){var t=this;t.setAttribute("role","group"),t.selectedIndex&&t._handleItemClick(t.getItem(t.selectedIndex+""),!0);var e=function(){t.dataSource?t.dataBind():t.dataSource=t._getDataSource(t._getLayout()),t.$.itemsContainer.orientation=t.orientation,t.refresh(),t._updateSplitter(),t.isRendered=!0,t.classList.add("outline"),t.ready&&t.ready()};"complete"===document.readyState?e():window.addEventListener("load",function(){e()})}},{key:"connectedCallback",value:function(){var t=this,e=function(){for(var e=document.createDocumentFragment();t.childNodes.length;)e.appendChild(t.firstChild);t.innerHTML=t.template(),t.classList.add("jqx-widget"),t.$={container:t.querySelector("#container"),itemsContainer:t.querySelector("#itemsContainer"),splitter:t.querySelector("#splitter")},delete t.$.container.id,delete t.$.itemsContainer.id,delete t.$.splitter.id,t.$.itemsContainer.appendChild(e),t.classList.add("jqx-split-layout"),document.addEventListener("pointerdown",function(e){t._documentDownHandler(e)}),document.addEventListener("pointermove",function(e){t._documentMoveHandler(e)}),document.addEventListener("pointerup",function(e){t._documentUpHandler(e)}),document.addEventListener("selectstart",function(e){t._documentSelectStartHandler(e)}),document.addEventListener("keyup",function(e){t._keyUpHandler(e)}),t.addEventListener("mouseleave",function(e){t._leaveHandler(e)}),t.addEventListener("mouseenter",function(e){t._enterHandler(e)}),t.addEventListener("dragStart",function(e){t._dragStart(e)}),t.render()};"complete"===document.readyState?e():window.addEventListener("load",function(){e()})}},{key:"getItem",value:function(t){if(null!=t){t=(t+"").split(".");for(var e,i=this._getDataSource(this._getLayout()),r=0;r<t.length&&(e=i[t[r]]);r++)i=e.items;return e}}},{key:"_documentDownHandler",value:function(t){var e=t.target;this.contains(e)&&e.closest&&(this._target=e,this._updateSplitter())}},{key:"_documentMoveHandler",value:function(t){var e=this,i=t.target,r=e._contextMenu;if(r&&!JQX.Utilities.Core.isMobile){if(r.querySelector(".jqx-layout-context-menu-item[hover]"))for(var o=r.children,n=0;n<o.length;n++)o[n].removeAttribute("hover");r.contains(i)&&i.closest&&i.closest(".jqx-layout-context-menu-item")&&i.setAttribute("hover","")}if(e._dragDetails){var a=Math.abs(e._dragDetails.pageX-t.pageX);if((m=Math.abs(e._dragDetails.pageY-t.pageY))<=5&&a<=5)return;e._dragDetails.feedback.parentElement||(document.body.appendChild(e._dragDetails.feedback),document.body.appendChild(e._dragDetails.overlay),setTimeout(function(){e._dragDetails.feedback.classList.add("dragging")},100)),e._dragDetails.dragging=!0,e._dragDetails.feedback.style.left=t.pageX-e._dragDetails.feedback.offsetWidth/2-5+"px",e._dragDetails.feedback.style.top=t.pageY-e._dragDetails.feedback.offsetHeight/2-5+"px";var s=document.elementsFromPoint(t.pageX,t.pageY),l=null,u=!1;for(n=0;n<s.length;n++){var d=s[n];if(!e._dragDetails.feedback.contains(d)){if(d.classList.contains("jqx-layout-tab-strip")){if(e._dragDetails.element.contains(d))continue;l=d.parentElement,u=!0;break}if((d.parentElement!==e._dragDetails.parent&&d!==e._dragDetails.parent||1!==e._dragDetails.layoutGroup.items.length)&&!e._dragDetails.element.contains(d)){if(d instanceof TabLayoutItem){l=d.parentElement;break}if(d instanceof TabLayoutGroup){l=d;break}}}}var c=function(i,r){var o=e.offset(i),n=null,a=50,s=r,l=r;r?a=0:(l=i.offsetWidth/3,s=i.offsetHeight/3);for(var u=[{left:o.left,top:o.top,right:o.left+a,bottom:o.top+a,position:"top"},{left:o.left+a,top:o.top,right:o.left+i.offsetWidth-a,bottom:o.top+s-a,position:"top"},{left:o.left+i.offsetWidth-a,top:o.top,right:o.left+i.offsetWidth,bottom:o.top+a,position:"top"},{left:o.left,top:o.top+a,right:o.left+l,bottom:o.top+i.offsetHeight-a,position:"left"},{left:o.left+i.offsetWidth-l,top:o.top+a,right:o.left+i.offsetWidth,bottom:o.top+i.offsetHeight-a,position:"right"},{left:o.left,top:o.top+i.offsetHeight-a,right:o.left+a,bottom:o.top+i.offsetHeight,position:"bottom"},{left:o.left+a,top:o.top+i.offsetHeight-s+a,right:o.left+i.offsetWidth-a,bottom:o.top+i.offsetHeight,position:"bottom"},{left:o.left+i.offsetWidth-a,top:o.top+i.offsetHeight-a,right:o.left+i.offsetWidth,bottom:o.top+i.offsetHeight,position:"bottom"}],d=0;d<u.length;d++){var c=u[d];if(c.left<=t.pageX&&t.pageX<=c.right&&c.top<=t.pageY&&t.pageY<=c.bottom){n=c.position;break}}return n},p=e.querySelector("jqx-layout-group"),f=c(p,10),h=null;f?h=p:l?u?l!==e._dragDetails.parent&&(f="center",h=l):(f=c(l)||"center",h=l):e._handleDropArea(null),h&&(e._dragDetails.current=h,e._dragDetails.position=f,e._handleDropArea(h,f))}if(e._resizeDetails){a=Math.abs(e._resizeDetails.clientX-t.clientX);var m=Math.abs(e._resizeDetails.clientY-t.clientY),y=e._resizeDetails.splitter,v=e._resizeDetails.item,b=e._resizeDetails.itemRect,_=e._resizeDetails.previousItemRect,g=e._resizeDetails.previousItem,x=e._resizeDetails.nextItemRect,L=e._resizeDetails.nextItem,C=parseInt(v.getAttribute("min")),A=function(t){t.classList.contains("jqx-visibility-hidden")||(t.style.right="",t.style.top="",t.style.left="",t.style.bottom="")};if(A(y),A(e.$.splitter),y.classList.remove("error"),y.classList.add("active"),!e._resizeDetails.dragging){if(y.classList.contains("horizontal")&&m<=5)return;if(y.classList.contains("vertical")&&a<=5)return;e._resizeDetails.dragging=!0}var I={clientPos:"clientX",pos:"x",size:"width",near:"left",far:"right",offsetSize:"offsetWidth"};y.classList.contains("horizontal")&&(I={clientPos:"clientY",pos:"y",size:"height",near:"top",far:"bottom",offsetSize:"offsetHeight"});if(y.classList.contains("last")){if((q=t[I.clientPos]-e._resizeDetails.splitterRect[I.pos])>(E=b[I.size]-C)&&(q=E,y.classList.add("error")),_){C=parseInt(g.getAttribute("min"));q<-(j=_[I.size]-C)&&(q=-j,y.classList.add("error"))}y.style[I.near]=q+"px";var S=v[I.offsetSize]-q;if(v.setAttribute("size",S),g){var k=v[I.offsetSize]+g[I.offsetSize]-S;g.setAttribute("size",k)}}else{var q,j;if((q=-t[I.clientPos]+e._resizeDetails.splitterRect[I.pos])>(j=b[I.size]-C)&&(q=j,y.classList.add("error")),x){var E;C=parseInt(L.getAttribute("min"));q<(E=-x[I.size]+C)&&(q=E,y.classList.add("error"))}y.style[I.far]=q+"px";S=v[I.offsetSize]-q;if(v.setAttribute("size",S),L){var z=L[I.offsetSize]+v[I.offsetSize]-S;L.setAttribute("size",z)}}!function(t){var i=e.offset(t),r=e.offset(e);r.left++,r.top++,e.$.splitter.style.width=t.offsetWidth+"px",e.$.splitter.style.height=t.offsetHeight+"px",e.$.splitter.className=t.className,e.$.splitter.style.left=i.left-r.left+"px",e.$.splitter.style.top=i.top-r.top+"px",t.setAttribute("drag",""),e.$.splitter.setAttribute("drag","")}(y)}}},{key:"_offsetTop",value:function(t){return t?t.offsetTop+this._offsetTop(t.offsetParent):0}},{key:"_offsetLeft",value:function(t){return t?t.offsetLeft+this._offsetLeft(t.offsetParent):0}},{key:"offset",value:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}}},{key:"_keyUpHandler",value:function(t){if("Escape"===t.key){if(this._dragDetails&&(this._dragDetails.feedback.remove(),this._dragDetails.overlay.remove(),this._dragDetails=null,this._handleDropArea(null)),this._resizeDetails){var e=this._resizeDetails;return e.splitter.classList.contains("last")?e.previousItem.size=e.previousItemSize:e.nextItem.size=e.nextItem.previousItemSize,e.item.size=e.itemSize,this.refresh(),this._handleItemClick(e.item),void(this._resizeDetails=null)}}else"Delete"===t.key&&this._selectedItem&&this._removeLayoutItem(this._selectedItem)}},{key:"_endDrag",value:function(){var t=this;if(t._handleDropArea(null),t._dragDetails.dragging){var e=t._dragDetails.current,i=t._dragDetails.element,r=t._dragDetails.position;if(t._handleDropArea(null),e){if(t._addTabLayoutItem(e,r,i),t._removeLayoutItem(i),e.parentElement&&1===Array.from(e.parentElement.parentElement.children).filter(function(t){return!!t.classList.contains("jqx-layout-group")}).length){var o=e.parentElement,n=o.parentElement,a=n.parentElement;if("root"!==n.getAttribute("data-id")&&"root"!==a.getAttribute("data-id")&&a!==t){var s=Array.from(a.children).indexOf(o.parentElement);s>=0?a.insertBefore(o,a.children[s]):a.appendChild(o),n.remove()}}t.refresh(),t._updateSplitter(),requestAnimationFrame(function(){t.classList.add("outline"),t.querySelectorAll(".jqx-element").forEach(function(e){t.dispatchEvent(new CustomEvent("resize"))})})}t.dispatchEvent(new CustomEvent("stateChange",{type:"insert",item:i})),t._dragDetails.feedback.remove(),t._dragDetails.overlay.remove(),t._dragDetails=null}else t._dragDetails=null}},{key:"_documentUpHandler",value:function(t){var e=JQX.Utilities.Core.isMobile,i=e?document.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset):t.target;if(2!==t.button){if(this._dragDetails&&this._endDrag(t),this._resizeDetails){var r=this._resizeDetails;return r.item&&(r.item.style.overflow=""),r.previousItem&&(r.previousItem.style.overflow=""),r.nextItem&&(r.nextItem.style.overflow=""),this.refresh(),this._handleItemClick(r.item),this._resizeDetails=null,window.dispatchEvent(new Event("resize")),void this.querySelectorAll(".jqx-element").forEach(function(t){t.dispatchEvent(new CustomEvent("resize"))})}if(this.contains(i)&&(this.classList.add("outline"),this._target&&!i.item&&(i instanceof TabLayoutItem?this._handleItemClick(i):this._handleItemClick(i.closest(".jqx-layout-item"))),this._target)){if(this._target!==i)return void delete this._target;if(!t.button&&i.closest(".jqx-layout-buttons-container")){var o=t.target;this._handleButtonClick(o.item,o.position)}else i.closest(".jqx-layout-context-menu")&&(!e&&!t.button||e)&&this._handleMenuItemClick(i.closest(".jqx-layout-context-menu-item"));delete this._target}}}},{key:"_documentSelectStartHandler",value:function(t){this._target&&t.preventDefault()}},{key:"_getDataSource",value:function(t,e,i){var r=[];i||(i=0),e||(e="");for(var o=0;o<t.length;o++){var n=t[o],a={label:n.label,id:n.getAttribute("data-id"),orientation:n.orientation,size:n.size,min:n.min,type:n.type,modifiers:n.modifiers,position:n.position};if(n.removeAttribute("index"),n instanceof LayoutGroup){if(r.push(a),a.index=""!==e?e+"."+i:i.toString(),n.setAttribute("index",a.index),n.items){var s=this._getDataSource(n.items,a.index,0);a.items=s}}else if(n instanceof LayoutItem)if(n.items){s=this._getDataSource(n.items,e,i);r=r.concat(s)}else a.index=""!==e?e+"."+i:i.toString(),n.setAttribute("index",a.index),r.push(a);i++}return r}},{key:"_getLayout",value:function(){var t=this,e=arguments.length?arguments[0]:t.$.itemsContainer;t._buttons&&t._buttons.remove(),t._dropArea&&t._dropArea.remove();for(var i=t.querySelectorAll(".jqx-layout-splitter"),r=0;r<i.length;r++){var o=i[r];o!==t.$.splitter&&o.remove()}e.items=Array.from(e.children),e.items=e.items.filter(function(t){return t!==e.tabs&&t.hasAttribute("data-id")});var n=e.items.map(function(e){if(e.classList.contains("jqx-layout-tab-strip"))return null;var i=e,r=e instanceof LayoutGroup?e:null;return r&&(i.items=t._getLayout(r)),i});if(e!==t.$.itemsContainer)return n.filter(function(t){return null!==t&&t!==e.tabs});var a=[],s=e;return s.items=n.filter(function(t){return null!==t&&t!==e.tabs}),a.push(s),a}},{key:"_updateSplitter",value:function(){this._buttons&&this._dragDetails&&this._buttons.remove(),this._removeSplitter();for(var t=this.querySelectorAll("[data-id]"),e=0;e<t.length;e++){var i=t[e];if("root"!==i.getAttribute("data-id")){if(i.hasAttribute("role")){var r=i.getAttribute("role");if("gridcell"===r||"row"===r||"columnheader"===r||"rowheader"===r)continue}i.setAttribute("hover",""),this._handleSplitter(i)}}}},{key:"_hideSplitter",value:function(){for(var t=this.querySelectorAll("[data-id]"),e=0;e<t.length;e++){t[e].removeAttribute("hover")}}},{key:"_removeSplitter",value:function(){for(var t=this.querySelectorAll(".jqx-layout-splitter"),e=0;e<t.length;e++){var i=t[e];i!==this.$.splitter&&i.remove()}this._hideSplitter()}},{key:"_handleItemClick",value:function(t){var e=this.selectedIndex,i=null;if(!t)return this.selectedIndex=null,this.querySelectorAll("[data-id]").forEach(function(t){t.removeAttribute("selected")}),void(this._selectedItem=null);(i=t instanceof HTMLElement?t:this.querySelector("[data-id="+t.id+"]"))&&i.readonly?this.selectedIndex=null:(this.querySelectorAll("[data-id]").forEach(function(t){t.removeAttribute("selected")}),i?(this.selectedIndex=i.getAttribute("index"),i.setAttribute("selected",""),i.setAttribute("hover",""),this._selectedItem=i,i.classList.contains("jqx-hidden")&&this.refresh(),this._handleButtonsVisibility(i),e!==this.selectedIndex&&this.dispatchEvent(new CustomEvent("change")),this._updateSplitter()):this.refresh())}},{key:"_handleButtonClick",value:function(t,e){var i=this._addLayoutItem(t,e);this.dispatchEvent(new CustomEvent("stateChange",{type:"insert",item:i})),this._handleItemClick(i,!0)}},{key:"_removeLayoutItem",value:function(t){if("root"!==t.getAttribute("data-id")){if(t instanceof LayoutItem&&1===t.parentElement.items.length){for(var e=t.parentElement,i=e;e&&e.items&&1===e.items.length&&"root"!==e.getAttribute("data-id");)i=e,e=e.parentElement;"root"!==i.getAttribute("data-id")?i.remove():this.allowLiveSplit&&i.appendChild(document.createElement("jqx-layout-item"))}else t.remove();this.refresh(),this.dispatchEvent(new CustomEvent("stateChange",{type:"delete",item:t}))}}},{key:"refresh",value:function(){var t=this;if(!t._isUpdating){t.dataSource=t._getDataSource(t._getLayout()),t.$.splitter.className="jqx-visibility-hidden jqx-layout-splitter";for(var e=function(e){var i=t.getItem(e.getAttribute("index"));if(i){e.style.gridTemplateColumns="",e.style.gridTemplateRows="";var r="",o=0,n=0;if(e instanceof TabLayoutGroup){e.tabs&&e.tabs.remove();var a=document.createElement("div");a.classList.add("jqx-layout-tab-strip"),t._selectedItem&&e.contains(t._selectedItem)&&t._selectedItem instanceof TabLayoutItem&&(e.selectedIndex=Math.max(0,e.items.indexOf(t._selectedItem))),e.selectedIndex>=e.children.length&&(e.selectedIndex=0);for(var s=0;s<e.children.length;s++){var l=e.children[s],u=t.getItem(l.getAttribute("index"));if(u){var d=document.createElement("div");d.classList.add("jqx-layout-tab"),d.innerHTML="<label>"+u.label+'</label><span class="jqx-close-button"></span>',a.appendChild(d),l.setAttribute("tab",""),l.classList.add("jqx-hidden"),d.content=l,d.item=u,d.group=i,l.modifiers?-1===l.modifiers.indexOf("close")&&d.querySelector(".jqx-close-button").classList.add("jqx-hidden"):d.querySelector(".jqx-close-button").classList.add("jqx-hidden"),void 0!==e.selectedIndex&&s!==e.selectedIndex||(d.classList.add("selected"),l.classList.remove("jqx-hidden"),e.selectedIndex=s),d.onpointerup=function(i){i.target.classList.contains("jqx-close-button")&&d.close&&(e.selectedIndex=0,t._removeLayoutItem(t._selectedItem),t._handleItemClick(parent))},d.onpointerdown=function(e){var i=this.closest(".jqx-layout-group");t._handleItemClick(this.content),d.close=!1,e.target.classList.contains("jqx-close-button")?d.close=!0:u.modifiers&&u.modifiers.indexOf("drag")>=0&&i.modifiers.indexOf("drag")>=0&&t._beginDrag(i,this,e)}}}e.tabs=a,"top"===i.position||"left"===i.position?e.insertBefore(a,e.firstChild):e.appendChild(a)}else{for(s=0;s<e.children.length;s++){if((l=e.children[s]).hasAttribute("size")){var c=l.getAttribute("size"),p=parseFloat(c),f="vertical"===e.orientation?e.offsetWidth:e.offsetHeight,h=c.indexOf("%")>=0?parseFloat(c):parseFloat(p/f*100);if(o+=h,++n===e.children.length){if(o<100){r+="1fr ",o=100;continue}o>100&&(h=100-(o-=h),o=100)}else if(o>100||0===h){n=e.children.length,o=0;break}r+=h+"% "}else r+="1fr "}if(n===e.children.length&&(o<99||o>100)){r="";for(s=0;s<e.children.length;s++){(l=e.children[s]).removeAttribute("size"),r+="1fr "}}"vertical"===e.orientation?e.style.gridTemplateColumns=r:e.style.gridTemplateRows=r}e.items=Array.from(e.children),e.items=e.items.filter(function(t){return t!==e.tabs})}},i=t.querySelectorAll(".jqx-layout-group"),r=0;r<i.length;r++)e(i[r])}}},{key:"_beginDrag",value:function(t,e,i){this._dragDetails&&this._dragDetails.feedback.remove();var r=document.createElement("div"),o=document.createElement("div"),n=t.querySelector(".jqx-layout-tab-strip"),a="";if(n)for(var s=0;s<Array.from(n.children).length;s++)s===t.selectedIndex&&(a=n.children[s].innerText);r.innerHTML='<jqx-split-layout><jqx-tab-layout-group><jqx-tab-layout-item label="'.concat(a,'"></jqx-tab-layout-item></jqx-tab-layout-group></jqx-split-layout>'),this._feedback=r,this._feedback.classList.add("jqx-split-layout-feedback","jqx-split-layout","jqx-widget"),o.classList.add("jqx-split-layout-overlay"),this._dragDetails={element:e.content,item:e.item,layoutGroup:e.group,parent:t,overlay:o,feedback:r,pageX:i.pageX,pageY:i.pageY}}},{key:"moveChildren",value:function(t,e){e.innerHTML="";for(var i=t;i.firstChild;){var r=i.firstChild;e.appendChild(r)}}},{key:"createLayoutItem",value:function(t,e){var i,r=this;return"layoutItem"!==t&&t?"tabLayoutItem"!==t&&t?"tabLayoutGroup"===t?function(t){var e=document.createElement("jqx-tab-layout-group"),i="top"===t||"bottom"===t?"horizontal":"vertical";return e.setAttribute("orientation",i),e.orientation=i,r.dispatchEvent(new CustomEvent("tabLayoutGroup",{type:"layoutGroup",item:e})),e}(e):function(t){var e=document.createElement("jqx-layout-group"),i="top"===t||"bottom"===t?"horizontal":"vertical";return r.dispatchEvent(new CustomEvent("createGroup",{type:"layoutGroup",item:e})),e.setAttribute("orientation",i),e.orientation=i,e}(e):function(){var t=document.createElement("jqx-tab-layout-item");return t.innerHTML="",r.dispatchEvent(new CustomEvent("createItem",{type:"tabLayoutItem",item:t})),t}():((i=document.createElement("jqx-layout-item")).innerHTML="",r.dispatchEvent(new CustomEvent("createItem",{type:"layoutItem",item:i})),i)}},{key:"_addTabLayoutItem",value:function(t,e,i){var r,o=this,n=o.createLayoutItem("tabLayoutItem"),a=t.closest("jqx-tab-layout-group");i&&(n.label=i.label,n.modifiers=i.modifiers,o.moveChildren(i,n));var s=function(t){for(var e=0;e<t.children.length;e++){t.children[e].removeAttribute("size")}t.removeAttribute("size")},l=function(e){if(t.removeAttribute("size"),t.querySelector("jqx-layout-group"))o._addLayoutItem(t.querySelector("jqx-layout-group"),e);else{r=o.createLayoutItem("layoutGroup",e);var i=o.createLayoutItem();o.moveChildren(t,i),"top"===e||"left"===e?(r.appendChild(o.createLayoutItem()),r.appendChild(i)):(r.appendChild(i),r.appendChild(o.createLayoutItem())),t.appendChild(r)}},u=function(e,i){var r=t.parentElement,n=t,a=o.createLayoutItem("layoutGroup",i);r.insertBefore(a,n),"top"===i||"left"===i?(a.append(e),a.appendChild(n)):(a.appendChild(n),a.append(e)),"root"===n.getAttribute("data-id")&&(n.setAttribute("data-id",a.getAttribute("data-id")),a.setAttribute("data-id","root"),o.$.itemsContainer=a),s(n),s(r)};if(i)switch(e){case"center":if(t instanceof TabLayoutGroup||t instanceof TabLayoutItem)a.appendChild(n);else(c=o.createLayoutItem("tabLayoutGroup","top")).appendChild(n),t instanceof LayoutGroup&&!(t instanceof TabLayoutItem)?(t.appendChild(c),s(t)):t instanceof LayoutItem&&(r=o.createLayoutItem("layoutGroup"),t.parentElement.insertBefore(r,t),r.appendChild(t),r.appendChild(c),s(r));break;case"left":case"right":(c=o.createLayoutItem("tabLayoutGroup","top")).appendChild(n),"root"===t.getAttribute("data-id")?(c.position=e,u(c,e)):u(c,e);break;case"top":case"bottom":(c=o.createLayoutItem("tabLayoutGroup","top")).appendChild(n),"root"===t.getAttribute("data-id")?(c.position=e,u(c,e)):u(c,e)}else{switch(e){case"center":t instanceof TabLayoutGroup||t instanceof TabLayoutItem?a.appendChild(n):l();break;case"left":case"right":if(t instanceof TabLayoutGroup){var d=t.querySelector("jqx-tab-layout-item");d&&"left"===e?t.insertBefore(n,d):t.appendChild(n)}else if(t instanceof TabLayoutItem){var c=o.createLayoutItem("tabLayoutGroup","top");a=t.parentElement;c.appendChild(n),r=o.createLayoutItem("layoutGroup"),a.parentElement.insertBefore(r,a),"right"===e?(r.appendChild(a),r.appendChild(c)):"left"===e&&(r.appendChild(c),r.appendChild(a))}else if(i){(c=o.createLayoutItem("tabLayoutGroup","top")).appendChild(n),t instanceof LayoutGroup?t.insertBefore(t.firstChild,c):t instanceof LayoutItem&&((r=o.createLayoutItem("layoutGroup")).orientation=a.orientation,r.setAttribute("orientation",a.orientation),t.removeAttribute("size"),t.parentElement.insertBefore(r,t),r.appendChild(t),r.appendChild(c))}else l(e);break;case"top":case"bottom":t instanceof TabLayoutGroup?(r=o.createLayoutItem("layoutGroup","top"),t.removeAttribute("size"),t.parentElement.insertBefore(r,t),"top"===e?(r.appendChild(o.createLayoutItem()),r.appendChild(t)):(r.appendChild(t),r.appendChild(o.createLayoutItem()))):l(e)}o.refresh()}}},{key:"_addLayoutItem",value:function(t,e,i){if(t){var r=function(t){for(var e=0;e<t.children.length;e++){t.children[e].removeAttribute("size")}t.removeAttribute("size")};if(t instanceof TabLayoutItem||t instanceof TabLayoutGroup||i&&i instanceof TabLayoutItem)return this._addTabLayoutItem(t,e,i);var o,n=this.createLayoutItem(),a=t.closest(".jqx-layout-group");if(i&&this.moveChildren(i,n),"center"===e){if(t instanceof LayoutGroup)return(o=a).appendChild(n),r(o),this.refresh(),n;if(t instanceof LayoutItem)return(o=this.createLayoutItem("layoutGroup")).orientation=a.orientation,o.setAttribute("orientation",a.orientation),t.removeAttribute("size"),t.parentElement.insertBefore(o,t),o.appendChild(t),o.appendChild(n),this.refresh(),o}if("vertical"===a.orientation&&("left"===e||"right"===e)||"horizontal"===a.orientation&&("top"===e||"bottom"===e))if(o=a,t instanceof LayoutGroup)"left"===e||"top"===e?o.insertBefore(n,o.children[0]):o.appendChild(n),r(t);else{var s=o.items,l=Math.max(0,s.indexOf(t)+("top"===e||"left"===e?0:1));o.insertBefore(n,s[l]),r(o)}else if(t instanceof LayoutGroup){a=t.parentElement;o=t;var u=this.createLayoutItem("layoutGroup",e);a.insertBefore(u,o),"top"===e||"left"===e?(u.append(n),u.appendChild(o)):(u.appendChild(o),u.append(n)),"root"===o.getAttribute("data-id")&&(o.setAttribute("data-id",u.getAttribute("data-id")),u.setAttribute("data-id","root"),this.$.itemsContainer=u),r(a)}else o=this.createLayoutItem("layoutGroup",e),a.insertBefore(o,t),"top"===e||"left"===e?(o.appendChild(n),o.appendChild(t)):(o.appendChild(t),o.appendChild(n)),r(o);return this.refresh(),n}}},{key:"_handleButtonsVisibility",value:function(t){if(this._buttons||(this._buttons=document.createElement("div"),this._buttons.classList.add("jqx-layout-buttons-container"),this._buttons.innerHTML='<div role="button" position="top"></div>\n                                       <div role="button" position="bottom"></div>\n                                       <div role="button" position="center"></div>\n                                       <div role="button" position="left"></div>\n                                       <div role="button" position="right"></div>'),t||!this._buttons.parentElement){if(t){for(var e=t._buttonPosition||[],i=this._buttons.children,r=0;r<i.length;r++){var o=i[r];o.position=o.getAttribute("position"),o.item=t,e.length&&e.indexOf(o.getAttribute("position"))<0?o.classList.add("jqx-hidden"):o.classList.remove("jqx-hidden"),o.onmouseenter=function(){o.setAttribute("hover","")},o.onmouseleave=function(){o.removeAttribute("hover")}}this.allowLiveSplit&&this._buttons.parentElement!==t&&t.appendChild(this._buttons)}}else this._buttons.parentElement.removeChild(this._buttons)}},{key:"_handleDropArea",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",i=this,r=function(t){switch(t){case"left":i._dropArea.style.top="0px",i._dropArea.style.left="0px",i._dropArea.style.width="50%",i._dropArea.style.height="100%";break;case"right":i._dropArea.style.top="0px",i._dropArea.style.left="calc(100% - ".concat(50,"%)"),i._dropArea.style.width="50%",i._dropArea.style.height="100%";break;case"top":i._dropArea.style.top="0px",i._dropArea.style.left="0px",i._dropArea.style.width="100%",i._dropArea.style.height="50%";break;case"bottom":i._dropArea.style.top="calc(100% - ".concat(50,"%)"),i._dropArea.style.left="0px",i._dropArea.style.width="100%",i._dropArea.style.height="50%";break;case"center":i._dropArea.style.top="0px",i._dropArea.style.left="0px",i._dropArea.style.width="100%",i._dropArea.style.height="100%"}};i._dropArea&&i._dropArea.parentElement===t?r(e):(i._dropArea&&i._dropArea.remove(),i._dragDetails&&t&&(i._dropArea=document.createElement("div"),i._dropArea.classList.add("jqx-layout-drop-area"),t.appendChild(i._dropArea),i._dropArea.style.opacity=1,r(e)))}},{key:"_handleSplitter",value:function(t){var e=this;if(t)if(t.hasAttribute("tab")&&(t=t.parentElement),t._splitter&&t._splitter.remove(),t._splitter||(t._splitter=document.createElement("div")),e._dragDetails&&e._dragDetails.dragging)t._splitter.remove();else if(-1!==t.modifiers.indexOf("resize")){t.appendChild(t._splitter);var i,r=t.parentElement;if(r){t._splitter.className="jqx-layout-splitter",t._splitter.item=t,t._splitter.removeAttribute("drag");var o=r.orientation;t.nextElementSibling&&t.nextElementSibling.hasAttribute("data-id")?t._splitter.classList.add(o):t.previousElementSibling&&t.previousElementSibling.hasAttribute("data-id")&&(t._splitter.classList.add(o),t._splitter.classList.add("last"));(i=t._splitter).style.top="",i.style.left="",i.style.bottom="",i.style.right="",i.onpointerdown=function(t){var i=t.target.item;i.style.overflow="hidden",e._resizeDetails={splitter:t.target,splitterRect:t.target.getBoundingClientRect(),itemRect:i.getBoundingClientRect(),item:i,itemSize:i.size,group:i.parentElement,clientX:t.clientX,clientY:t.clientY},e._selectedItem!==i&&(e.querySelectorAll("[data-id]").forEach(function(t){t.removeAttribute("selected")}),e.selectedIndex=i.getAttribute("index"),i.setAttribute("selected",""),e._selectedItem=i,e._handleButtonsVisibility(i)),i.previousElementSibling&&i.previousElementSibling.hasAttribute("data-id")?(e._resizeDetails.previousItemRect=i.previousElementSibling.getBoundingClientRect(),e._resizeDetails.previousItem=i.previousElementSibling,e._resizeDetails.previousItemSize=i.previousElementSibling.size,e._resizeDetails.previousItem.style.overflow="hidden"):(e._resizeDetails.previousItemRect=null,e._resizeDetails.previousItem=null),i.nextElementSibling&&i.nextElementSibling.hasAttribute("data-id")?(e._resizeDetails.nextItemRect=i.nextElementSibling.getBoundingClientRect(),e._resizeDetails.nextItem=i.nextElementSibling,e._resizeDetails.nextItemSize=i.nextElementSibling.size,e._resizeDetails.nextItem.style.overflow="hidden"):(e._resizeDetails.nextItemRect=null,e._resizeDetails.nextItem=null)}}}}}]),i}();customElements.define("jqx-layout-group",LayoutGroup),customElements.define("jqx-layout-item",LayoutItem),customElements.define("jqx-tab-layout-group",TabLayoutGroup),customElements.define("jqx-tab-layout-item",TabLayoutItem),customElements.define("jqx-split-layout",SplitLayout);



